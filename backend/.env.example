# Backend Environment Example
# Copy this file to .env and adjust values as needed.

# --- Server ---
PORT=3001
# Comma-separated list of allowed frontend origins for CORS.
# Supports wildcards like https://tt-league-frontend-git-*.vercel.app
FRONTEND_URL=http://localhost,http://localhost:5173

# --- Database Selection ---
# Leave DATABASE_URL unset to use SQLite locally. Set it (e.g., on Vercel) to use Postgres/Neon.
# If DATABASE_URL does not include sslmode, the app appends sslmode=require automatically.
# Example (Neon):
# DATABASE_URL=postgresql://user:password@host.neon.tech:5432/db_name?sslmode=require

# SQLite local database path (used when DATABASE_URL is not set).
# IMPORTANT: this path is resolved relative to the backend process working directory.
# If you run `npm start` from the `backend/` folder (recommended), use:
DATABASE_PATH=database/league.db
# Alternatively, omit DATABASE_PATH entirely and the backend will default to `backend/database/league.db`
# based on the location of `backend/src/models/database.js`.

# Optional: override schema file paths (usually not needed)
# DATABASE_SCHEMA_PATH=backend/database/schema.sql
# DATABASE_SCHEMA_PATH_PG=backend/database/schema.pg.sql

# --- JWT/Auth ---
# IMPORTANT: Change in production.
JWT_SECRET=your-super-secret-jwt-key-change-in-production
# Token expiry (e.g., 7d, 12h)
JWT_EXPIRES_IN=7d

# --- Admin Seeding (created/updated on startup) ---
# In production, ADMIN_PASSWORD must be set or startup will fail when creating the admin.
ADMIN_USERNAME=admin
ADMIN_FIRST_NAME=Admin
ADMIN_LAST_NAME=User
ADMIN_EMAIL=admin@tabletennis.local
# ADMIN_PASSWORD=change-me-in-production

# --- Platform (do not set locally) ---
# VERCEL is automatically set by the Vercel platform; used by the app to enforce Postgres.
# VERCEL=1
